function renderList(e){checkForExpiredTasks(),toDo.innerHTML="";for(var t=0;t<e.length;t++){var n=templater('<section class="task"> <input type="checkbox" onclick="check(this)"><p>{{ task }}</p><button class="btn btn-default" onclick="del(this)">delete</button><button type="button" class="btn btn-default" onclick="edt(this)">edit</button></section>');toDo.innerHTML+=n({task:e[t].texts}),e[t].done&&(toDo.lastChild.childNodes[2].setAttribute("class","done"),toDo.lastChild.childNodes[1].setAttribute("checked","true"),toDo.lastChild.childNodes[4].remove()),e[t].expired&&toDo.lastChild.childNodes[2].setAttribute("class","expired")}container.appendChild(toDo),save()}function createList(e){switch(e){case"today":var t=list.filter(function(e){return"today"==e.deadline});renderList(t);break;case"week":var t=list.filter(function(e){return"week"==e.deadline});renderList(t);break;case"oneDay":var t=list.filter(function(e){return"oneDay"==e.deadline});renderList(t);break;default:renderList(list)}}function save(){localStorage.setItem(key,JSON.stringify(list))}var container=document.getElementById("box"),toDo=document.createElement("div"),key="_Storage",list=localStorage.getItem(key)?JSON.parse(localStorage.getItem(key)):[],templater=function(e){return function(t){for(var n in t){var i="{{\\s?"+n+"\\s?}}";e=e.replace(new RegExp(i,"ig"),t[n])}return e}};createList(list);