function save(){localStorage.setItem(key,JSON.stringify(list))}var containerToday=document.querySelector("#day-tasks"),containerWeek=document.querySelector("#week-tasks"),containerOneDay=document.querySelector("#someDay-tasks"),container=[containerToday,containerWeek,containerOneDay],toDoToday=document.createElement("div"),toDoWeek=document.createElement("div"),toDoOneDay=document.createElement("div"),toDo=[toDoToday,toDoWeek,toDoOneDay],anyDay=[],week=[],today=[],key="_Storage",list=localStorage.getItem(key)?JSON.parse(localStorage.getItem(key)):[anyDay,week,today],templater=function(e){return function(t){for(var o in t){var n="{{\\s?"+o+"\\s?}}";e=e.replace(new RegExp(n,"ig"),t[o])}return e}},createList=function(){checkForExpiredTasks();for(var e=0;e<list.length;e++){toDo[e].innerHTML="";for(var t=0;t<list[e].length;t++){var o=templater('<section class="task"> <input type="checkbox" onclick="check(this)"><p>{{ task }}</p><button class="btn btn-default" onclick="del(this)">delete</button><button type="button" class="btn btn-default" onclick="edt(this)">edit</button></section>');toDo[e].innerHTML+=o({task:list[e][t].texts}),list[e][t].done&&(toDo[e].lastChild.childNodes[2].setAttribute("class","done"),toDo[e].lastChild.childNodes[1].setAttribute("checked","true"),toDo[e].lastChild.childNodes[4].remove()),list[e][t].expired&&toDo[e].lastChild.childNodes[2].setAttribute("class","expired")}container[e].appendChild(toDo[e])}save()};createList();