function Task(e,t){this.done=!1,this.texts=e,this.date=new Date,this.expired=!1,this.deadline=t}function del(e){safePush();for(var t=0;t<list.length;t++)e.parentNode.childNodes[2].textContent==list[t].texts&&list.splice(t,1);createList(deadln)}function edt(e){safePush();var t=e.parentNode,a=t.childNodes[2].textContent;t.innerHTML="";var n=document.createElement("input");n.value=a,n.setAttribute("class","form-control change-task"),t.appendChild(n);var s=document.createElement("button");s.textContent="save",s.classList.add("btn-default"),s.classList.add("btn"),s.id="save",t.appendChild(s),s.onclick=function(){for(var e=0;e<list.length;e++)a==list[e].texts&&""!=n.value&&(list[e].texts=n.value);createList(deadln)}}function check(e){safePush();for(var t=list.length-1;t>=0;t--)e.parentNode.childNodes[2].textContent==list[t].texts&&(list[t].done=!list[t].done);createList(deadln)}function checkForExpiredTasks(){for(var e=new Date,t=0;t<list.length;t++){var a=new Date(list[t].date);a.getMinutes()!=e.getMinutes()&&e>a&&!list[t].done&&"today"==list[t].deadline?list[t].expired=!0:(a.setDate(a.getDate()+(7-a.getDay())%7),list[t].expired=a.getDate()!=e.getDate()&&e>a&&!list[t].done&&"week"==list[t].deadline?!0:!1)}}function safePush(){document.getElementById("save")&&document.getElementById("save").click()}var newTask=document.getElementById("new-task"),addTaskBtn=document.getElementById("add-task"),radioChoice=document.getElementsByName("deadline"),deadln;addTaskBtn.onclick=function(e){if(safePush(),e.preventDefault(),e.stopPropagation(),""!==newTask.value){for(var t=0;t<radioChoice.length;t++)if(radioChoice[t].checked){var a=new Task(newTask.value,radioChoice[t].value);list.push(a),activePanel(radioChoice[t].value)}newTask.value=""}},document.onkeyup=function(e){13===e.keyCode&&safePush()};